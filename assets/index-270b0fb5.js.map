{"version":3,"file":"index-270b0fb5.js","sources":["../../src/Landing/animation.js","../../src/BackOffice/BackOffice.js","../../src/BackOffice/Story.js","../../src/config/Renderer.js","../../src/scripts/index.js"],"sourcesContent":["import gsap from \"gsap\";\nimport Splitting from \"splitting\";\nimport Cursor from \"../Experience/Utils/Cursor\";\n\nexport default class Animation {\n  constructor() {\n    this.init();\n  }\n\n  init() {\n    this.animation = gsap.timeline()\n\n    this.cursor = new Cursor()\n\n    this.getElements();\n    this.events();\n    this.splitTitles();\n    this.prepareAnimation();\n  }\n\n  getElements() {\n    /**\n     * Illustration\n     */\n    this.leftIllustration = document.querySelector('#left-illustration')\n    this.rightIllustration = document.querySelector('#right-illustration')\n\n    /**\n     * Titles\n     */\n    this.titles = document.querySelectorAll(\".landing__title\")\n    this.titlesWithContent = document.querySelectorAll('.landing__title-with-content')\n    this.titlesContent = document.querySelectorAll(\".landing__title-content\")\n\n    /**\n     * Logo\n     */\n    this.logo = document.querySelector('.landing__logo')\n\n    this.landingContent = document.querySelector('.landing__content')\n  }\n\n  splitTitles() {\n    this.splittedTitles = []\n    this.titles.forEach((title) => {\n      this.splittedTitles.push(Splitting({ target: title, by: \"chars\" })[0])\n    });\n  }\n\n  events() {\n    window.addEventListener('load', this.onEnterCompleted.bind(this))\n  \n    this.titlesWithContent.forEach((title, index) => {\n      title.addEventListener('mouseenter', this.showContent.bind(this, index))\n      title.addEventListener('mouseleave', this.hideContent.bind(this, index))\n    })\n  }\n\n  onEnterCompleted()\n  {\n    this.animation\n    .to(this.leftIllustration, {\n      x: '-50%',\n      delay: 1.5,\n      duration: 2.2,\n      ease: 'power3.inOut'\n    })\n    .to(this.rightIllustration, {\n      x: '50%',\n      duration: 2.2,\n      ease: 'power3.inOut'\n    }, '-=2.2')\n    .to(this.logo, {\n      opacity: 0.05,\n      duration: 0.8, \n      ease: 'power2.inOut'\n    })\n    .to(this.landingContent, {\n      alpha: 1,\n    }, '-=0.5')\n\n    this.animateTitles()\n  }\n\n  animateTitles() {\n    gsap.set([this.leftIllustration, this.rightIllustration], {\n      z: 0\n    })\n\n    this.splittedTitles.forEach((title, i) => {\n        const delay = '-=0.6'\n        this.animation.to(title.chars, {\n            y: '0%',\n            alpha: 1,\n            duration: 1,\n            ease: 'expo.out',\n            stagger: 0.05,\n        }, delay)\n    })\n\n    this.animation.set(this.titles, {\n      pointerEvents: 'auto',\n    })\n  }\n\n  prepareAnimation() {\n    this.splittedTitles.forEach((title) => {\n      gsap.set(title.chars, {\n        y: \"100%\",\n        alpha: 0,\n      });\n    });\n    \n    gsap.set(this.titles, {\n      pointerEvents: 'none',\n      cursor: 'auto'\n    })\n\n    gsap.set(this.landingContent, {\n      alpha: 0\n    })\n  }\n\n  showContent(index) {\n    this.cursor.onCursorEnterBound()\n    gsap.to(this.titlesContent[index], {\n      x: '100%',\n      duration: 0.8,\n      ease: 'power3.out'\n    })\n  }\n\n  hideContent(index) {\n    this.cursor.onCursorLeaveBound()\n    gsap.to(this.titlesContent[index], {\n      x: 0,\n      delay: 0.2,\n      duration: 0.8,\n      ease: 'power3.in'\n    })\n  }\n}\n","import DataManager from \"../Data/DataManager\";\n\nlet backOffice = null;\n\nexport default class BackOffice {\n    constructor()\n    {\n        // Singleton\n        if(backOffice)\n        {\n            return backOffice\n        }\n        backOffice = this\n        \n        // Global access\n        window.backOffice = this\n\n        this.dataManager = new DataManager();\n        this.author = null\n\n        this.init();\n    }\n\n    init()\n    {\n        this.author = this.dataManager.getFirstAuthor()\n        this.setHTMLVariables()\n    }\n\n    setHTMLVariables()\n    {\n        this.setAuthorFirstName()\n    }\n\n    setAuthorFirstName()\n    {\n        document.querySelectorAll('.author__first-name').forEach(el => {\n            el.innerHTML = this.author.firstName\n        })\n    }\n\n}","import DataManager from \"../Data/DataManager\"\nimport BackOffice from \"./BackOffice\"\n\nexport default class Story {\n    constructor() {\n        this.dataManager = new DataManager()\n        this.backOffice = new BackOffice()\n        this.setCategoryCheckboxes()\n\n        this.events()\n    }\n\n    events()\n    {\n        document.querySelector('form').addEventListener('submit', (e) => {\n            e.preventDefault()\n            this.submitForm()\n        })\n    }\n\n    submitForm()\n    {\n        const title = document.querySelector('#title').value\n        const content = document.querySelector('#content').value\n        const categoryId = document.querySelector('#category').value\n        const authorId = this.backOffice.author.id\n\n        const story = {\n            title,\n            content,\n            categoryId,\n            authorId,\n            imagePath: '',\n            comments: [],\n            createdAt: new Date().toISOString()\n        }\n\n        this.dataManager.addStory(story)\n    }\n\n    setCategoryCheckboxes()\n    {\n        const container = document.querySelector('#category')\n\n        this.dataManager.categories.forEach(category => {\n            const radio = document.createElement('input')\n            const label = document.createElement('label')\n\n            radio.type = 'radio'\n            radio.value = category.id\n            radio.id = category.id\n            radio.name = 'category'\n\n            label.setAttribute('for', category.id)\n            label.innerHTML = category.name\n\n            const div = document.createElement('div')\n            div.classList.add('form__radio-group')\n            div.appendChild(radio)\n            div.appendChild(label)\n\n            container.appendChild(div)\n        })\n    }\n}\n","import { Renderer } from '@unseenco/taxi';\nimport Experience from '../Experience/Experience.js'\nimport Animation from '../Landing/animation.js'\nimport BackOffice from '../BackOffice/BackOffice.js'\nimport Story from '../BackOffice/Story.js'\n\nexport default class CustomRenderer extends Renderer {\n  onEnter() {\n    // run after the new content has been added to the Taxi container\n  }\n\n  onEnterCompleted() {\n     // run after the transition.onEnter has fully completed\n     if (window.location.pathname === '/') {\n        const animation = new Animation()\n    }\n    /**\n     * Experience\n     */\n    if (window.location.pathname === '/experience.html') {\n        const experience = new Experience(document.querySelector('canvas.webgl'))\n    }\n    \n    /**\n     * Back-office\n     */\n    if (window.location.pathname === '/back-office.html') {\n        const backOffice = new BackOffice()\n    }\n    \n    if (window.location.pathname === '/create-story.html') {\n        const story = new Story()\n    }\n  }\n\n  onLeave() {\n    // run before the transition.onLeave method is called\n  }\n\n  onLeaveCompleted() {\n    // run after the transition.onleave has fully completed\n  }\n}","\nimport DataManager from '../Data/DataManager.js'\nimport * as Taxi from '@unseenco/taxi'\nimport CustomRenderer from '../config/Renderer.js'\nimport Cursor from '../Experience/Utils/Cursor.js'\n\n/**\n * Landing\n */\nconst taxi = new Taxi.Core({\n    renderers: {\n\t\tdefault: CustomRenderer,\n\t}\n})\n\nconst animation = new Animation()\n"],"names":["Animation$1","gsap","Cursor","title","Splitting","index","i","delay","backOffice","BackOffice","DataManager","el","Story","e","content","categoryId","authorId","story","container","category","radio","label","div","CustomRenderer","Renderer","Animation","Experience","Taxi.Core"],"mappings":"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"}